function styledt(e){$(e+"-container .dataTables_filter label").addClass("pull-right");$(e+"-container .dataTables_filter input").attr("placeholder","Search");$(e+"-container .dataTables_filter input").addClass("form-control");$(e+"-container .dataTables_length select").addClass("form-control");$(e+"-container .dt-pop-control").detach().prependTo(".dataTables_filter");$(e+"-container .dataTables_paginate").addClass("pull-right")}function dtLoad(e,t,n,r,i,s,o){var u=[];var a=$(e).dataTable({sDom:"<'row'<'col-md-6'l><'col-md-6'f>r>t<'row'<'col-md-6'i><'col-md-6'p>>",sPaginationType:"bootstrap",bAutoWidth:false,bProcessing:true,bServerSide:true,sAjaxSource:t,bRetrieve:true,fnInitComplete:function(t){styledt(e)},aaSorting:[[0,"desc"]],oLanguage:{sLengthMenu:"Limit _MENU_",sSearch:"",oPaginate:{sPrevious:"",sNext:""}},fnRowCallback:function(e,t,n){if($.inArray(t[0],u)!==-1)$(e).find("td").not(":last-child").toggleClass("highlight")},fnDrawCallback:function(t){if(o)a.fnSetColumnVis(0,false,false);$(e+" tr").find(n).addClass("hidden-sm hidden-xs");$(e+" tr").find(r).addClass("hidden-xs");$(e+" tr").find(i).addClass("hidden");$(".datatable-loading").fadeOut();$(e+"-container").fadeIn()}});if(s!="false"){$(document).on("click",e+" tbody tr td:last-child",function(e){return false});$(document).on("click",e+" tbody tr ",function(t){var n=a.fnGetData(this);var r=n[0];var i=$.inArray(r,u);if(i===-1){u.push(r)}else u.splice(i,1);if(u.length>0){$(e+"-container .dt-pop-control").fadeIn()}else $(e+"-container .dt-pop-control").fadeOut();$(this).find("td").not(":last-child").toggleClass("highlight")})}$(document).on("click",e+"-container .dt-mass",function(e){e.preventDefault();var t=$(this).attr("data-action");var n=$(this).attr("data-table");var r=$(this).attr("data-method");var i=false;var s="";$.each(u,function(e,t){s+=t+","});if(r=="modal"){modalfyRun(this,$(this).attr("data-action")+"?ids="+s)}else if($(this).attr("data-confirm")=="true"){if(t=="user/mass/merge"){$.ajax({type:"GET",url:"user/mass/merge?ids="+s}).done(function(e){if(e){bootbox.confirm(e,function(e){if(e)fnRunMass(t,n,r,u)})}else{console.log(e);bootbox.alert(lang_unable_to_exec)}}).fail(function(e,t){console.log(e);bootbox.alert(lang_unable_to_exec+t)})}else{bootbox.confirm(lang_areyousure,function(e){if(e)fnRunMass(t,n,r,u)})}}else fnRunMass(t,n,r,u);return false})}function fnRunMass(e,t,n,r){if(!n)n="POST";$.ajax({type:n,url:e,dataType:"json",data:{rows:JSON.stringify(r)}}).done(function(e){if(e.result=="success"){r=[];oTable=$("#"+t).dataTable();oTable.fnReloadAjax();$(".dt-pop-control").fadeOut()}else{console.log(e);bootbox.alert(lang_unable_to_exec+e.error)}}).fail(function(e,t){console.log(e);bootbox.alert(lang_unable_to_exec+t)})}